name: "ğŸ… Test Report"

on:
  workflow_run:
    workflows: ["ğŸ”„ CI", "ğŸ„ Performance"]
    types: ["completed"]
jobs:
  report:
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6

      - uses: dawidd6/action-download-artifact@v13
        with:
          workflow: performance.yml
          name: performance-test-results

      - uses: dawidd6/action-download-artifact@v13
        with:
          workflow: ci.yml
          name: test-results

      - uses: dorny/test-reporter@v2
        with:
          name: ğŸ“œ Test Report
          path: "**/*.trx"
          reporter: dotnet-trx
